@import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap');

:root{
  --bg:#0e141b;
  --panel:#121821e6;
  --panel-border:#223042;
  --text:#fff;
  --muted:#a8b3c2;
  --green:#22c55e;
  --green-soft:#4ade80;
  --accent:#ffd447;
}

*{box-sizing:border-box}
html,body,#root{height:100%}
body{
  margin:0;background:var(--bg);color:var(--text);
  font-family:'Poppins',system-ui,-apple-system,Segoe UI,Roboto,sans-serif;
}

.game-container{
  min-height:100%;
  background-size:cover;
  background-position:center center;
  background-repeat:no-repeat;
  transition: background-image 0.8s ease-in-out;
  display:flex;flex-direction:column;align-items:center;
  padding:16px 12px 28px;
}

.hud{text-align:center}
.title{font-weight:700;font-size:1.3rem;margin:4px 0 2px}
.subtle{color:var(--muted);font-size:.9rem}

.scoreboard{margin:6px 0}
.points{display:flex;align-items:baseline;justify-content:center;gap:8px}
.score{
  font-size:3.6rem;font-weight:700;color:var(--green);
  text-shadow:0 0 12px rgba(34,197,94,.25);
}
.label{font-size:1rem}

.xp-bar{
  width:92%;height:6px;margin:10px auto 8px;
  background:#1e293b;border-radius:6px;overflow:hidden;
  border:1px solid #122032;
}
.xp-bar.thick{height:9px} /* 50% m√°s gruesa */
.xp-fill{
  height:100%;
  background:linear-gradient(90deg,var(--green),var(--green-soft));
  transition:width .4s ease;
}

.weekly{color:#A7E6B9;font-size:1rem;margin-top:6px}

.floaters-wrap{
  position:relative;height:0; /* contenedor virtual debajo del hud */
}
.floater{
  position:absolute;left:50%;transform:translateX(-50%);
  color:var(--green);font-weight:700;font-size:1.2rem;
  animation:floUp 1.2s ease forwards;
  filter: drop-shadow(0 0 6px rgba(34,197,94,.35));
}
@keyframes floUp{
  0%{opacity:0; transform:translate(-50%, 8px);}
  15%{opacity:1;}
  100%{opacity:0; transform:translate(-50%, -28px);}
}

.insight{
  margin-top:8px;color:#cfe8d6;font-size:.95rem;
  text-shadow:0 0 8px rgba(34,197,94,.15);
}

/* Personaje */
.character-section{
  display:flex;justify-content:center;align-items:center;height:160px;margin-top:2px;
}
.hero-sprite{height:130px;image-rendering:pixelated;filter:drop-shadow(0 0 10px rgba(34,197,94,.35));}

/* Actividades: grid 3x3 */
.buttons-grid{
  display:grid;grid-template-columns:repeat(3,1fr);gap:.8rem;
  width:92%;max-width:680px;margin-top:.6rem;
}
.activity-btn{
  background:var(--panel);border:1px solid var(--panel-border);
  border-radius:14px;color:#e7eef7;padding:12px 8px;
  display:flex;flex-direction:column;align-items:center;gap:6px;
  transition:transform .12s ease, background-color .2s ease, box-shadow .2s ease;
  box-shadow: inset 0 0 22px rgba(0,0,0,.35);
}
.activity-btn:hover{transform:translateY(-2px)}
.activity-btn .ico{font-size:1.2rem}
.activity-btn .pts{color:var(--green);font-size:.9rem;margin-top:2px}

/* Footer */
.footer-buttons{display:flex;gap:22px;margin:18px 0 4px}
.circle-btn{
  width:58px;height:58px;border-radius:50%;
  background:var(--panel);color:#dfe8f0;border:1px solid var(--panel-border);
  display:grid;place-items:center;
  box-shadow:0 0 10px rgba(0,0,0,.35), inset 0 0 18px rgba(0,0,0,.25);
  transition: transform .1s ease, box-shadow .2s ease;
}
.circle-btn:hover{transform:translateY(-2px)}

/* Clear today */
.clear-today{margin-top:8px}
.clear-btn{
  background:#1a2532;border:1px solid #2b3a4f;color:#cfe1ff;
  padding:8px 12px;border-radius:10px;font-size:.9rem;
}
.clear-btn:hover{background:#213146}

/* Modal base */
.modal-overlay{
  position:fixed;inset:0;background:rgba(3,6,12,.78);
  display:grid;place-items:center;z-index:50;
}
.modal-card{
  width:min(92vw,460px);background:#0f151c;border:1px solid #1f2a36;
  border-radius:16px;padding:14px;box-shadow:0 20px 80px rgba(0,0,0,.55);
}
.animate-in{animation:pop .18s ease}
@keyframes pop{from{transform:scale(.96);opacity:0}to{transform:scale(1);opacity:1}}
.modal-header{display:flex;justify-content:space-between;align-items:center}
.close-btn{
  background:#17202a;border:1px solid #26303c;color:#dfe6ee;
  padding:8px 10px;border-radius:10px
}
.modal-content{margin-top:10px;color:#c9d3df;font-size:.95rem}

/* Settings */
.settings-block{display:flex;flex-direction:column;gap:6px}
.label-small{font-size:.85rem;color:#b8c6d6}
.reward-input{
  background:#0e1520;border:1px solid #223248;color:#e5f0ff;
  border-radius:12px;padding:10px 12px;font-size:.95rem;outline:none;
}
.reward-input:focus{border-color:#3b82f6; box-shadow:0 0 0 3px rgba(59,130,246,.15)}
.hint{color:#9fb0c3;font-size:.85rem}
.hint.small{font-size:.8rem}

/* Barras semanales */
.bars{display:flex;gap:10px;align-items:flex-end;justify-content:center;height:160px;margin:8px 0 6px}
.bar-item{display:flex;flex-direction:column;align-items:center;gap:6px}
.bar{
  width:26px;height:140px;border:1px solid #2a394d;border-radius:8px;
  background:#0f1a25;overflow:hidden;display:flex;align-items:flex-end;
}
.bar-fill{
  width:100%;height:0;background:linear-gradient(180deg,#4ade80,#22c55e);
  animation:grow .9s ease forwards;
  box-shadow: 0 0 10px rgba(34,197,94,.25) inset;
}
@keyframes grow{from{height:0}to{height:var(--h,100%)}}
.bar-label{font-size:.8rem;color:#b8c6d6;text-transform:capitalize}
.bar-value{font-size:.85rem;color:#d7ffe3}
.bars-total{text-align:center;margin-top:6px}

/* Balance mensual */
.balance-grid{
  display:grid;grid-template-columns:repeat(3,1fr);gap:10px;margin-top:8px
}
.balance-card{
  background:#0f1a25;border:1px solid #213042;border-radius:12px;
  padding:10px;text-align:center
}
.bc-title{color:#a8b3c2;font-size:.9rem}
.bc-value{font-size:1.4rem;font-weight:700;color:#eafff2}
